<h1>Friends</h1>
<div class="row">
    <div class="col-sm-12">
        <mat-form-field>
            <input matInput (keyup)="filterChanged($event.target.value)" placeholder="Filter" appSetFocus>
        </mat-form-field>
    </div>
</div>
<div class="card-container">
    <mat-card class="example-card" *ngFor="let user of users" [ngClass]="user.relationship == 'self' ? 'self' : null">
        <mat-card-header>
            <div mat-card-avatar [style.background-size]="'cover'"
                [style.background-image]="'url(' + (user.picturePath || 'uploads/unknown-user.jpg') + ')'"></div>
            <mat-card-title>{{user.pseudo}}</mat-card-title>
            <mat-card-subtitle>{{user.fullName || '&nbsp;' }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="card-content">
            <div [ngSwitch]="user.relationship">
                <span *ngSwitchCase="'self'">this is you</span>
                <span *ngSwitchCase="'mutual'">&harr; is a mutual friend</span>
                <span *ngSwitchCase="'follower'">&rarr; is following you</span>
                <span *ngSwitchCase="'followee'">&larr; you are following</span>
                <span *ngSwitchDefault>not related to you</span>
            </div>
        </mat-card-content>
        <mat-card-actions class="card-buttons">
            <ng-container [ngSwitch]="user.relationship">
                <span *ngSwitchCase="'self'"></span>
                <span *ngSwitchCase="'mutual'"><button mat-button (click)="drop(user)">DROP</button></span>
                <span *ngSwitchCase="'follower'"><button mat-button (click)="follow(user)">RECIP</button></span>
                <span *ngSwitchCase="'followee'"><button mat-button (click)="drop(user)">DROP</button></span>
                <span *ngSwitchDefault><button mat-button (click)="follow(user)">FOLLOW</button></span>
            </ng-container>
        </mat-card-actions>
    </mat-card>
</div>